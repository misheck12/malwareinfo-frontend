import React from 'react';
import './Guides.css';

function GuidePage({ malwareId }) {
    const [guides, setGuides] = React.useState([]);

    React.useEffect(() => {
        // Fetch guides for a specific malware from the API and set to guides state
        fetch(`/api/malwares/${malwareId}/guides`)
            .then(response => response.json())
            .then(data => setGuides(data));
    }, [malwareId]);

    return (
        <div className="guide-page">
            <h2>Removal Guides for {malwareId}</h2>
            {guides.map(guide => 
                <GuideItem key={guide.id} guide={guide} />)}
        </div>
    );
}

function GuideItem({ guide }) {
    return (
        <div className="guide-item">
            <h3>Step {guide.step_number}</h3>
            <p>{guide.step_description}</p>
        </div>
    );
}

export default GuidePage;
