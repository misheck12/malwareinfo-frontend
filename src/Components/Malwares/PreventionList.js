import React from 'react';
import './Malwares.css';

function PreventionList({ malwareId }) {
    const [preventions, setPreventions] = React.useState([]);

    React.useEffect(() => {
        // Fetch preventions for a specific malware from the API and set to preventions state
        fetch(`/api/malwares/${malwareId}/preventions`)
            .then(response => response.json())
            .then(data => setPreventions(data));
    }, [malwareId]);

    return (
        <div className="prevention-list">
            <h2>Prevention Techniques for {malwareId}</h2>
            {preventions.map(prevention => 
                <PreventionItem key={prevention.id} prevention={prevention} />)}
        </div>
    );
}

function PreventionItem({ prevention }) {
    return (
        <div className="prevention-item">
            <h3>{prevention.prevention_name}</h3>
            <p>{prevention.description}</p>
            <p>Date Added: {prevention.date_added}</p>
        </div>
    );
}

export default PreventionList;
